import{F as v,K as b}from"./kioskboard-aio-2.2.0.min.b8dc853f.js";import{_,Q as k,S as y,a as w}from"./ekami128x128.7a7224d3.js";import{d as C,i as d,r as l,o as s,c as r,a as n,b as a,n as S,F as q,e as B,f as u,g as f,t as E}from"./index.d1d2bd45.js";const L=C({components:{FormNavigation:v,QrCode:k},data(){return{eventBus:d("eventBus"),config:{},recap:[],isLoaded:!1}},methods:{downloadCanvas:function(){console.log("download");let t=document.querySelector("#lastname").value+" "+document.querySelector("#firstname").value+" "+document.querySelector("#birthdate").value,o=document.querySelector("#lastname").value+" "+document.querySelector("#firstname").value;this.eventBus.emit("generateAndDownloadQrCode",[t,o])},redirectToPlatform:function(t){switch(t.toLocaleLowerCase()){case"mobile":this.$router.push({name:"Mobile"});break;case"kiosk":this.$router.push({name:"Kiosk"});break;case"demo":this.$router.push({name:"Demo"});break}},addAnotherPerson:function(){this.eventBus.emit("updateQrCode"),setTimeout(function(){window.print(),document.querySelectorAll("input").forEach(t=>{t.hasAttribute("resettable")&&(t.value="")})},1e3)},printTicket:function(){this.eventBus.emit("updateQrCode"),setTimeout(function(){window.print(),window.location.reload()},1e3)},fetchConfigFile:function(t){fetch(t).then(o=>o.json()).then(o=>{this.config=o}).catch(o=>{var c;this.isLoaded=!0;let i=document.createElement("div");i.id="error_config",i.innerHTML="Invalid or Config File not found. Please check configuration file.",(c=document.querySelector("body"))==null||c.appendChild(i)})}},created(){this.fetchConfigFile("/config.json")},mounted(){this.eventBus=d("eventBus")},updated(){var e=this;if(!e.isLoaded){e.eventBus.on("updateRecap",function(o){e.recap=o}),document.querySelectorAll(".print-button").forEach(function(o){o.addEventListener("click",function(){e.printTicket()})}),document.querySelectorAll(".print-add-button").forEach(function(o){o.addEventListener("click",function(){e.addAnotherPerson(),e.eventBus.emit("returnToBeginning")})}),document.querySelectorAll(".cancel-button").forEach(function(o){o.addEventListener("click",function(){window.location.reload()})});var t=document.querySelector(e.config.form.id);t==null||t.addEventListener("change",()=>{e.eventBus.emit("updateQrCode","test")}),t==null||t.addEventListener("keyup",()=>{e.eventBus.emit("updateQrCode","test")}),document.querySelectorAll(".slim-select").forEach(o=>{new y({select:"#"+o.id,showSearch:!1})});for(const[o,i]of Object.entries(e.config.keyboards))b.run(i.target,i.options);e.isLoaded=!0}}}),A={class:"container-fluid vh-100",id:"main_container"},F={class:"row vh-100"},T={class:"col-3 bg-light align-items-center position-relative text-center",id:"utility_container"},M={class:"mb-3 vh-100"},P=["src"],Q={class:"p-2 mt-4",id:"buttons_div"},O=n("button",{class:"col-12 print-button m-2 fw-bold btn btn-kiosk ml-auto gx-1 btn-lg btn-success"},[n("span",{class:"fs-3"},[n("i",{class:"bi bi-person-check-fill"}),f(" Termin\xE9")])],-1),$=n("span",{class:"fs-3"},[n("i",{class:"bi bi-person-plus-fill"}),f(" Autre Personne ")],-1),N=[$],I=n("h4",{class:"fw-bold"},"Your information",-1),V={class:"w-100 p-2",id:"recap_div"},j=n("div",{class:"w-100 mb-5 text-muted position-absolute bottom-0 start-50 translate-middle-x",id:"copyright"},[n("img",{height:"32",width:"32",src:w,id:"copyright_logo"}),n("a",null," EKAMI SA (Gen\xE8ve)")],-1),K={class:"col-9"};function D(e,t,o,i,c,G){const m=l("FormNavigation"),p=l("QrCode");return s(),r("main",null,[n("div",A,[n("div",F,[n("div",T,[n("div",M,[e.config.companyLogo!=""?(s(),r("img",{key:0,class:"img-fluid p-4 pt-5",id:"company_logo",src:e.config.companyLogo},null,8,P)):a("",!0),n("div",Q,[O,e.config.colors?(s(),r("button",{key:0,class:"col-12 print-add-button m-2 fw-bold btn btn-kiosk ml-auto gx-1 btn-lg",style:S({backgroundColor:e.config.colors.primary,color:e.config.colors.secondary})},N,4)):a("",!0)]),I,n("div",V,[(s(!0),r(q,null,B(e.recap,(g,h)=>(s(),r("p",{key:h},E(g),1))),128))]),j])]),n("div",K,[e.config.form?(s(),u(m,{key:0,formId:e.config.form.id,formClass:e.config.form.class,groupFields:e.config.form.fieldGroups,colors:e.config.colors,thanksMessage:e.config.form.thanksMessage,endMessage:e.config.form.endMessage,datepickerOptions:e.config.datepickerOptions},null,8,["formId","formClass","groupFields","colors","thanksMessage","endMessage","datepickerOptions"])):a("",!0),e.config.qrOptions?(s(),u(p,{key:1,qrOptions:e.config.qrOptions,context:e.config.context,qrCodeId:"qrcode"},null,8,["qrOptions","context"])):a("",!0)])])])])}var Y=_(L,[["render",D]]);export{Y as default};
