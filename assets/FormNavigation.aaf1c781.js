import{G as k}from"./ekami128x128.88646b6f.js";import{$ as l,_ as y}from"./QrCode.6aaa7f57.js";import{d as B,i as b,r as F,o,c as r,a as s,h as m,n as _,F as u,e as g,j as w,t as f,g as d,k as T}from"./index.a479a3c5.js";const C=B({name:"FormNavigation",data(){return{recap:[],eventBus:b("eventBus")}},props:{formId:String,formClass:String,groupFields:Object,colors:Object,endMessage:String,thanksMessage:String,datepickerOptions:Object},computed:{cssProps(){var e,t,n,i;return{"--primary-color":(e=this.colors)==null?void 0:e.primary,"--secondary-color":(t=this.colors)==null?void 0:t.secondary,"--tertiary-color":(n=this.colors)==null?void 0:n.tertiary,"--quaternary-color":(i=this.colors)==null?void 0:i.quaternary}}},components:{GeneratorInputGroup:k},methods:{checkItem:function(){var t=l("#carouselForm");l(".carousel-inner .carousel-item:first").hasClass("active")?(t.children(".carousel-control-prev").hide(),t.children(".carousel-control-next").show()):l(".carousel-inner .carousel-item:last").hasClass("active")?(t.children(".carousel-control-next").hide(),t.children(".carousel-control-prev").show()):(t.children(".carousel-control-next").show(),t.children(".carousel-control-prev").show())},writeToRecap:function(){this.recap=[],document.querySelectorAll(".carousel-inner label").forEach(t=>{let n=document.querySelector("#"+t.htmlFor),i=n.value==""?t.innerText+" ?":n.value;this.recap.push(i)}),this.eventBus.emit("updateRecap",this.recap)},returnToBeggining:function(){var t;(t=document.getElementById("indicator0"))==null||t.click()}},mounted(){var e;this.eventBus=b("eventBus"),this.eventBus.on("returnToBeginning",this.returnToBeggining),document.querySelectorAll("input, select").forEach(t=>{["change","focus"].forEach(n=>{t.addEventListener(n,()=>{this.writeToRecap()})})}),this.checkItem(),(e=document.querySelector("#carouselForm"))==null||e.addEventListener("slid.bs.carousel",this.checkItem),l(".datepicker").datepicker(this.datepickerOptions)}}),S={class:"row"},E={class:"col-sm h-100",id:"form-div"},I=["id"],j={id:"carouselForm",class:"carousel carousel-dark slide","data-bs-interval":"false","data-bs-wrap":"false"},q={class:"carousel-indicators mt-4"},x=["id","data-bs-slide-to","aria-label"],O=["id","data-bs-slide-to","aria-label"],P=["id","data-bs-slide-to","aria-label"],G={class:"carousel-inner"},M=["id"],N={id:"carousel-end",class:"carousel-item"},$={class:"container"},z={key:0,class:"fs-2 m-4 text-center"},A={key:1,class:"fs-2 m-4 text-center"},R={class:"row d-flex justify-content-center"},V=s("button",{type:"button",class:"col-3 print-button m-2 fw-bold btn btn-kiosk ml-auto gx-1 btn-lg btn-success"},[s("span",{class:"fs-3"},[s("i",{class:"bi bi-person-check-fill"}),d(" Termin\xE9")])],-1),L=s("span",{class:"fs-3"},[s("i",{class:"fs-1bi bi-person-plus-fill"}),d(" Autre personne")],-1),D=[L],H={key:0,class:"fs-3 m-4 text-center"},J={key:1,class:"fs-3 m-4 text-center"},Q=d(' Pour imprimer votre ticket, cliquez sur "Termin\xE9". '),U=s("br",null,null,-1),W=d(` Pour d\xE9marrer la saisie d'une autre personne de votre famille (adresse identique), cliquez sur "Autre Personne". `),X=[Q,U,W],Y=T('<button class="carousel-control-prev" type="button" data-bs-target="#carouselForm" data-bs-slide="prev"><span class="text-dark" aria-hidden="true">\u279C</span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselForm" data-bs-slide="next"><span class="text-dark" aria-hidden="true">\u279C</span></button><button type="button" class="fs-3 m-4 cancel-button fw-bold btn btn-kiosk btn-danger"><i class="bi bi-trash-fill"></i></button>',3);function Z(e,t,n,i,K,ee){var p,h;const v=F("GeneratorInputGroup");return o(),r("div",S,[s("div",E,[s("form",{id:e.formId,class:m(e.formClass),style:_(e.cssProps)},[s("div",j,[s("div",q,[(o(!0),r(u,null,g(e.groupFields,(c,a)=>(o(),r(u,{key:a},[a==0?(o(),r("button",{key:0,id:"indicator"+a,type:"button","data-bs-target":"#carouselForm","data-bs-slide-to":a,"aria-current":"true",class:"active","aria-label":"Part"+a},null,8,x)):(o(),r("button",{key:1,id:"indicator"+a,type:"button","data-bs-target":"#carouselForm","data-bs-slide-to":a,"aria-current":"true","aria-label":"Part"+a},null,8,O))],64))),128)),s("button",{id:"indicator"+Object.keys(e.groupFields).length,type:"button","data-bs-target":"#carouselForm","data-bs-slide-to":Object.keys(e.groupFields).length,"aria-current":"true","aria-label":"Part"+Object.keys(e.groupFields).length},null,8,P)]),s("div",G,[(o(!0),r(u,null,g(e.groupFields,(c,a)=>(o(),r("div",{key:a,id:c.id,class:m(c.class)},[w(v,{inputGroups:c.fields},null,8,["inputGroups"])],10,M))),128)),s("div",N,[s("div",$,[e.thanksMessage?(o(),r("p",z,f(e.thanksMessage),1)):(o(),r("p",A,"Merci !")),s("div",R,[V,s("button",{type:"button",class:"col-3 print-add-button m-2 fw-bold btn btn-kiosk ml-auto gx-1 btn-lg",style:_({color:(p=e.colors)==null?void 0:p.secondary,backgroundColor:(h=e.colors)==null?void 0:h.primary}),onClick:t[0]||(t[0]=c=>e.returnToBeggining())},D,4),e.endMessage?(o(),r("p",H,f(e.endMessage),1)):(o(),r("p",J,X))])])])]),Y])],14,I)])])}var re=y(C,[["render",Z]]);export{re as F};
